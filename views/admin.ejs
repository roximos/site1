<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        .add-points-form {
            display: flex;
            gap: 10px;
            align-items: center;
            margin: 10px 0;
        }
        
        .points-input {
            width: 60px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .add-points-btn {
            padding: 5px 10px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .add-points-btn:hover {
            background: #5a67d8;
        }

        a[href="/admin/add-news"]:hover,
        a[href="/news"]:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img src="/images/logo.footer.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–ª–ª–µ–¥–∂–∞" width="60" height="60">
                <span>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</span>
            </div>
            <ul>
                <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                <li><a href="/rating">–¢–æ–ø —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</a></li>
                <li><a href="/admin">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a></li>
                <li><a href="/auth/logout">–í—ã–π—Ç–∏</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="container" style="max-width: 1200px; margin: 2rem auto; padding: 0 2rem;">
            <h1>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
            
            <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç—è–º–∏ –≤–≤–µ—Ä—Ö—É -->
            <div style="display: flex; gap: 1rem; margin-bottom: 2rem;">
                <a href="/admin/add-news" style="display: inline-block; padding: 12px 24px; 
                   background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                   color: white; text-decoration: none; border-radius: 8px; font-weight: 500;
                   transition: transform 0.3s;">
                    üìù –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ—Å—Ç—å
                </a>
                <a href="/news" style="display: inline-block; padding: 12px 24px; 
                   background: #28a745; color: white; text-decoration: none; 
                   border-radius: 8px; font-weight: 500; transition: transform 0.3s;">
                    üì∞ –í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏
                </a>
            </div>
            
            <% if (typeof error !== 'undefined') { %>
                <div class="error-message" style="color: red; margin: 1rem 0; padding: 10px; background: #ffeeee; border-radius: 5px;">
                    <%= error %>
                </div>
            <% } %>
            
            <% if (typeof success !== 'undefined') { %>
                <div class="success-message" style="color: green; margin: 1rem 0; padding: 10px; background: #eeffee; border-radius: 5px;">
                    <%= success %>
                </div>
            <% } %>

            <h2>–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h2>
            <table style="width: 100%; border-collapse: collapse; margin-top: 1rem;">
                <thead>
                    <tr style="background: #f8f9fa;">
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">ID</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">–§–ò–û</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">–ì—Ä—É–ø–ø–∞</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Email</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">–ë–∞–ª–ª—ã</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody>
                    <% users.forEach((user) => { %>
                    <tr style="border-bottom: 1px solid #dee2e6;">
                        <td style="padding: 12px;"><%= user.id %></td>
                        <td style="padding: 12px;"><%= user.fullName %></td>
                        <td style="padding: 12px;"><%= user.groupName %></td>
                        <td style="padding: 12px;"><%= user.email %></td>
                        <td style="padding: 12px; font-weight: bold;"><%= user.rating %></td>
                        <td style="padding: 12px;">
                            <form action="/admin/add-points/<%= user.id %>" method="POST" class="add-points-form">
                                <input type="number" name="points" min="1" max="100" required 
                                       class="points-input" placeholder="1-100">
                                <button type="submit" class="add-points-btn">+ –ë–∞–ª–ª—ã</button>
                            </form>
                            <form action="/admin/delete-user/<%= user.id %>" method="POST" 
                                  style="margin-top: 5px;" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞?')">
                                <button type="submit" style="padding: 5px 10px; background: #dc3545; color: white; 
                                        border: none; border-radius: 4px; cursor: pointer;">
                                    –£–¥–∞–ª–∏—Ç—å
                                </button>
                            </form>
                        </td>
                    </tr>
                    <% }); %>
                </tbody>
            </table>

            <h2 style="margin-top: 2rem;">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</h2>
            <form action="/admin/add-student" method="POST" 
                  style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-top: 1rem;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <input type="text" name="fullName" placeholder="–§–ò–û" required 
                           style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                    <input type="tel" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" 
                           style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                    <input type="text" name="groupName" placeholder="–ì—Ä—É–ø–ø–∞" required 
                           style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                    <input type="email" name="email" placeholder="Email" required 
                           style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                    <input type="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å" required 
                           style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <button type="submit" 
                        style="margin-top: 1rem; padding: 10px 20px; background: #28a745; color: white; 
                               border: none; border-radius: 4px; cursor: pointer;">
                    –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
                </button>
            </form>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏ -->
            <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #eee;">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏</h2>
                <div style="display: flex; gap: 1rem; margin-top: 1rem; flex-wrap: wrap;">
                    <a href="/admin/add-news" style="display: inline-block; padding: 12px 24px; 
                       background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                       color: white; text-decoration: none; border-radius: 8px; font-weight: 500;
                       transition: transform 0.3s;">
                        üìù –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ—Å—Ç—å
                    </a>
                    <a href="/news" style="display: inline-block; padding: 12px 24px; 
                       background: #28a745; color: white; text-decoration: none; 
                       border-radius: 8px; font-weight: 500; transition: transform 0.3s;">
                        üì∞ –í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏
                    </a>
                </div>
                <p style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
                    –î–ª—è –∑–∞–º–µ–Ω—ã —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ public/images/<br>
                    news1.jpg, news2.jpg, news3.jpg, news4.jpg
                </p>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <img src="/images/logo-footer.png" alt="–õ–æ–≥–æ—Ç–∏–ø" width="40" height="40">
            <p>&copy; 2025 –ù–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>
</body>
</html>