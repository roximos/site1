<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–æ–≤–æ—Å—Ç–∏ –∫–æ–ª–ª–µ–¥–∂–∞ - –†–µ–π—Ç–∏–Ω–≥ —É—á–∞—â–∏—Ö—Å—è</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        .news-page-container {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .news-grid-page {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        .news-card-page {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .news-card-page:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .news-image-page {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .news-content-page {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .news-title-page {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: #2c3e50;
        }
        
        .news-excerpt-page {
            color: #6c757d;
            line-height: 1.5;
            margin-bottom: 1rem;
            flex-grow: 1;
        }
        
        .news-meta-page {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
        }
        
        .news-date {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .read-more-page {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .read-more-page:hover {
            color: #5a67d8;
        }
        
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img src="/images/logo.footer.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–ª–ª–µ–¥–∂–∞" width="60" height="60">
                <span>–†–µ–π—Ç–∏–Ω–≥ —É—á–∞—â–∏—Ö—Å—è</span>
            </div>
            <ul>
                <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/news" class="active">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                <li><a href="/rating">–†–µ–π—Ç–∏–Ω–≥</a></li>
                <% if (user) { %>
                    <li><a href="/profile">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a></li>
                    <% if (user.role === 'admin') { %>
                        <li><a href="/admin">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a></li>
                    <% } %>
                    <li><a href="/auth/logout">–í—ã–π—Ç–∏</a></li>
                <% } else { %>
                    <li><a href="/auth/login">–í–æ–π—Ç–∏</a></li>
                <% } %>
            </ul>
        </nav>
    </header>

    <main>
        <div class="news-page-container">
            <div class="page-header">
                <h1>üì∞ –í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ –∫–æ–ª–ª–µ–¥–∂–∞</h1>
                <p>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏</p>
            </div>

            <div class="news-grid-page">
                <% news.forEach(newsItem => { %>
                <div class="news-card-page">
                    <img src="<%= newsItem.image ? '/uploads/' + newsItem.image : '/images/news1.jpg' %>" 
                         alt="<%= newsItem.title %>" class="news-image-page">
                    
                    <div class="news-content-page">
                        <h3 class="news-title-page"><%= newsItem.title %></h3>
                        <p class="news-excerpt-page"><%= newsItem.content.substring(0, 120) %>...</p>
                        
                        <div class="news-meta-page">
                            <span class="news-date">üìÖ <%= new Date(newsItem.createdAt).toLocaleDateString('ru-RU') %></span>
                            <a href="/news/<%= newsItem.id %>" class="read-more-page">–ß–∏—Ç–∞—Ç—å ‚Üí</a>
                        </div>
                    </div>
                </div>
                <% }); %>
            </div>

            <% if (news.length === 0) { %>
            <div class="empty-state">
                <h3>–ü–æ–∫–∞ –Ω–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π</h3>
                <p>–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∫–æ–ª–ª–µ–¥–∂–∞</p>
            </div>
            <% } %>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <img src="/images/logo-footer.png" alt="–õ–æ–≥–æ—Ç–∏–ø" width="40" height="40">
            <p>&copy; 2025 –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ —É—á–∞—â–∏—Ö—Å—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>
</body>
</html>