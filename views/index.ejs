<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–ª–ª–µ–¥–∂ - –ù–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img src="/images/logo.footer.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–ª–ª–µ–¥–∂–∞" width="60" height="60">
                <span>–ù–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
            </div>
            <ul>
                <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                <li><a href="/rating">–¢–æ–ø —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</a></li>
                <% if (user) { %>
                    <% if (user.role === 'admin') { %>
                        <li><a href="/admin">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a></li>
                    <% } %>
                    <li><a href="/auth/logout">–í—ã–π—Ç–∏</a></li>
                <% } else { %>
                    <li><a href="/auth/login">–í–æ–π—Ç–∏</a></li>
                <% } %>
            </ul>
        </nav>
    </header>

    <main>
        <!-- –ì–ª–∞–≤–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <section class="welcome-section">
            <div class="container">
                <h1>–õ—É—á—à–∏–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –∫–æ–ª–ª–µ–¥–∂–∞</h1>
                <p class="subtitle">–ù–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —É—Å–ø–µ—Ö–∏</p>
            </div>
        </section>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º -->
        <div class="main-container">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –¢–æ–ø —É—á–∞—â–∏—Ö—Å—è -->
            <section class="left-column">
                <div class="section-header">
                    <h2>üèÜ –¢–æ–ø —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h2>
                    <a href="/rating" class="view-all">–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ ‚Üí</a>
                </div>
                
                <div class="top-students">
                    <% topStudents.forEach((student, index) => { %>
                    <div class="student-card <%= index === 0 ? 'first-place' : index === 1 ? 'second-place' : index === 2 ? 'third-place' : '' %>">
                        <div class="student-rank">
                            <span class="rank-number"><%= index + 1 %></span>
                            <% if (index === 0) { %>
                                <span class="medal">ü•á</span>
                            <% } else if (index === 1) { %>
                                <span class="medal">ü•à</span>
                            <% } else if (index === 2) { %>
                                <span class="medal">ü•â</span>
                            <% } %>
                        </div>
                        
                        <div class="student-avatar">
                            <img src="/images/avatar<%= (index % 3) + 1 %>.jpg" alt="<%= student.fullName %>">
                        </div>
                        
                        <div class="student-info">
                            <h3 class="student-name"><%= student.fullName %></h3>
                            <div class="student-details">
                                <span class="detail-group">–ì—Ä—É–ø–ø–∞: <%= student.groupName %></span>
                                <span class="detail-rating">–ë–∞–ª–ª—ã: <%= student.rating %></span>
                                <span class="detail-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: Mathmin((studentrating / 1000) * 100, 100) "></div>
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                    <% }); %>
                </div>
            </section>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ù–æ–≤–æ—Å—Ç–∏ -->
            <section class="right-column">
                <div class="section-header">
                    <h2>üì∞ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
                </div>
                
                <div class="news-grid">
                    <% latestNews.forEach((news, index) => { %>
                    <div class="news-card">
                        <div class="news-image">
                            <img src="/images/news<%= (index % 4) + 1 %>.jpg" alt="<%= news.title %>">
                        </div>
                        
                        <div class="news-content">
                            <h3 class="news-title"><%= news.title %></h3>
                            <p class="news-excerpt"><%= news.content.substring(0, 100) %>...</p>
                            <div class="news-footer">
                                <a href="/news/<%= news.id %>" class="read-more">–ß–∏—Ç–∞—Ç—å ‚Üí</a>
                            </div>
                        </div>
                    </div>
                    <% }); %>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <img src="/images/logo-footer.png" alt="–õ–æ–≥–æ—Ç–∏–ø" width="40" height="40">
            <p>&copy; 2025 –ù–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>
</body>
</html>